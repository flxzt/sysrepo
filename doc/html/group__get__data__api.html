<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sysrepo: Getting Data API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="cesnet-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">sysrepo<span id="projectnumber">&#160;2.2.117</span>
   </div>
   <div id="projectbrief">YANG-based system repository for all-around configuration management.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__get__data__api.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Getting Data API</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structsr__data__t" id="r_structsr__data__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#structsr__data__t">sr_data_t</a></td></tr>
<tr class="memdesc:structsr__data__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that safely wraps libyang data and prevents unexpected context changes.  <a href="#structsr__data__t">More...</a><br /></td></tr>
<tr class="separator:structsr__data__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaff690f990f562042e72ed1d83eae58a" id="r_gaaff690f990f562042e72ed1d83eae58a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaff690f990f562042e72ed1d83eae58a">sr_acquire_data</a> (<a class="el" href="group__conn__sess__api.html#gade5be97913b23fb935033091433317a3">sr_conn_ctx_t</a> *conn, struct lyd_node *tree, <a class="el" href="#structsr__data__t">sr_data_t</a> **data)</td></tr>
<tr class="memdesc:gaaff690f990f562042e72ed1d83eae58a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire libyang data tree together with its context lock in a SR data structure.  <br /></td></tr>
<tr class="separator:gaaff690f990f562042e72ed1d83eae58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga064c0e3a4f251945d8dc97690df6cdad" id="r_ga064c0e3a4f251945d8dc97690df6cdad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga064c0e3a4f251945d8dc97690df6cdad">sr_free_val</a> (<a class="el" href="sysrepo__types_8h.html#structsr__val__t">sr_val_t</a> *value)</td></tr>
<tr class="memdesc:ga064c0e3a4f251945d8dc97690df6cdad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free <a class="el" href="sysrepo__types_8h.html#structsr__val__t" title="Structure that contains value of an data element stored in the sysrepo datastore.">sr_val_t</a> structure and all memory allocated within it.  <br /></td></tr>
<tr class="separator:ga064c0e3a4f251945d8dc97690df6cdad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f4f8226076611a1247826aff74ffc32" id="r_ga1f4f8226076611a1247826aff74ffc32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f4f8226076611a1247826aff74ffc32">sr_free_values</a> (<a class="el" href="sysrepo__types_8h.html#structsr__val__t">sr_val_t</a> *values, size_t count)</td></tr>
<tr class="memdesc:ga1f4f8226076611a1247826aff74ffc32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free array of <a class="el" href="sysrepo__types_8h.html#structsr__val__t" title="Structure that contains value of an data element stored in the sysrepo datastore.">sr_val_t</a> structures (and all memory allocated within of each array element).  <br /></td></tr>
<tr class="separator:ga1f4f8226076611a1247826aff74ffc32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14044ee269965d6d8f0bb4631351d7cb" id="r_ga14044ee269965d6d8f0bb4631351d7cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga14044ee269965d6d8f0bb4631351d7cb">sr_get_data</a> (<a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *session, const char *xpath, uint32_t max_depth, uint32_t timeout_ms, const <a class="el" href="sysrepo__types_8h.html#aa982434f82ff953fceb52bac779d032d">sr_get_options_t</a> opts, <a class="el" href="#structsr__data__t">sr_data_t</a> **data)</td></tr>
<tr class="memdesc:ga14044ee269965d6d8f0bb4631351d7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a tree whose root nodes match the provided XPath. Data are represented as <em>libyang</em> subtrees.  <br /></td></tr>
<tr class="separator:ga14044ee269965d6d8f0bb4631351d7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a2519c56957ea82729509651daa67b7" id="r_ga7a2519c56957ea82729509651daa67b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7a2519c56957ea82729509651daa67b7">sr_get_item</a> (<a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *session, const char *path, uint32_t timeout_ms, <a class="el" href="sysrepo__types_8h.html#structsr__val__t">sr_val_t</a> **value)</td></tr>
<tr class="memdesc:ga7a2519c56957ea82729509651daa67b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a single data element selected by the provided path. Data are represented as <a class="el" href="sysrepo__types_8h.html#structsr__val__t" title="Structure that contains value of an data element stored in the sysrepo datastore.">sr_val_t</a> structures.  <br /></td></tr>
<tr class="separator:ga7a2519c56957ea82729509651daa67b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ce03da13483cf30b4f7021f88b26ebd" id="r_ga0ce03da13483cf30b4f7021f88b26ebd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0ce03da13483cf30b4f7021f88b26ebd">sr_get_items</a> (<a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *session, const char *xpath, uint32_t timeout_ms, const <a class="el" href="sysrepo__types_8h.html#aa982434f82ff953fceb52bac779d032d">sr_get_options_t</a> opts, <a class="el" href="sysrepo__types_8h.html#structsr__val__t">sr_val_t</a> **values, size_t *value_cnt)</td></tr>
<tr class="memdesc:ga0ce03da13483cf30b4f7021f88b26ebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an array of data elements selected by the provided XPath. Data are represented as <a class="el" href="sysrepo__types_8h.html#structsr__val__t" title="Structure that contains value of an data element stored in the sysrepo datastore.">sr_val_t</a> structures.  <br /></td></tr>
<tr class="separator:ga0ce03da13483cf30b4f7021f88b26ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae533508954b1e660e3711da470c1e78a" id="r_gae533508954b1e660e3711da470c1e78a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae533508954b1e660e3711da470c1e78a">sr_get_node</a> (<a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *session, const char *path, uint32_t timeout_ms, <a class="el" href="#structsr__data__t">sr_data_t</a> **node)</td></tr>
<tr class="memdesc:gae533508954b1e660e3711da470c1e78a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a single value matching the provided XPath. Data are represented as a single <em>libyang</em> node.  <br /></td></tr>
<tr class="separator:gae533508954b1e660e3711da470c1e78a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88900c0e398e1dba45c0b082f944b732" id="r_ga88900c0e398e1dba45c0b082f944b732"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga88900c0e398e1dba45c0b082f944b732">sr_get_subtree</a> (<a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *session, const char *path, uint32_t timeout_ms, <a class="el" href="#structsr__data__t">sr_data_t</a> **subtree)</td></tr>
<tr class="memdesc:ga88900c0e398e1dba45c0b082f944b732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a single subtree whose root node is selected by the provided path. Data are represented as <em>libyang</em> subtrees.  <br /></td></tr>
<tr class="separator:ga88900c0e398e1dba45c0b082f944b732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac34ea70f43cdc6acae6ae6149ba2304" id="r_gaac34ea70f43cdc6acae6ae6149ba2304"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaac34ea70f43cdc6acae6ae6149ba2304">sr_release_data</a> (<a class="el" href="#structsr__data__t">sr_data_t</a> *data)</td></tr>
<tr class="memdesc:gaac34ea70f43cdc6acae6ae6149ba2304"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release SR data structure, whoch consists of freeing the data tree, releasing the context, and freeing the structure itself.  <br /></td></tr>
<tr class="separator:gaac34ea70f43cdc6acae6ae6149ba2304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84cc1900b34d225d4c537728c597c66e" id="r_ga84cc1900b34d225d4c537728c597c66e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga84cc1900b34d225d4c537728c597c66e">sr_session_acquire_data</a> (<a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *session, struct lyd_node *tree, <a class="el" href="#structsr__data__t">sr_data_t</a> **data)</td></tr>
<tr class="memdesc:ga84cc1900b34d225d4c537728c597c66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire libyang data tree together with its context lock in a SR data structure.  <br /></td></tr>
<tr class="separator:ga84cc1900b34d225d4c537728c597c66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structsr__data__t" id="structsr__data__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structsr__data__t">&#9670;&#160;</a></span>sr_data_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sr_data_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Structure that safely wraps libyang data and prevents unexpected context changes. </p>

<p class="definition">Definition at line <a class="el" href="sysrepo__types_8h_source.html#l00196">196</a> of file <a class="el" href="sysrepo__types_8h_source.html">sysrepo_types.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a1fc8bed7f054e8cb9ebb2f1de4938a4d" name="a1fc8bed7f054e8cb9ebb2f1de4938a4d"></a>const <a class="el" href="group__conn__sess__api.html#gade5be97913b23fb935033091433317a3">sr_conn_ctx_t</a> *</td>
<td class="fieldname">
conn</td>
<td class="fielddoc">
<p>Connection whose context was used for creating <code>tree</code>. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a6ab1ffba8c9d78f4d92f14ab0c9e9ebe" name="a6ab1ffba8c9d78f4d92f14ab0c9e9ebe"></a>struct lyd_node *</td>
<td class="fieldname">
tree</td>
<td class="fielddoc">
<p>Arbitrary libyang data, it can be modified </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaaff690f990f562042e72ed1d83eae58a" name="gaaff690f990f562042e72ed1d83eae58a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaff690f990f562042e72ed1d83eae58a">&#9670;&#160;</a></span>sr_acquire_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_acquire_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__conn__sess__api.html#gade5be97913b23fb935033091433317a3">sr_conn_ctx_t</a> *</td>          <td class="paramname"><span class="paramname"><em>conn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct lyd_node *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#structsr__data__t">sr_data_t</a> **</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquire libyang data tree together with its context lock in a SR data structure. </p>
<p>Similar functionality as <a class="el" href="#ga84cc1900b34d225d4c537728c597c66e" title="Acquire libyang data tree together with its context lock in a SR data structure.">sr_session_acquire_data()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Connection to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>libyang data tree, ownership is passed to <code>data</code> in all cases. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Created SR data, free with <a class="el" href="#gaac34ea70f43cdc6acae6ae6149ba2304" title="Release SR data structure, whoch consists of freeing the data tree, releasing the context,...">sr_release_data()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (<a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a9349114b18324f7d763650d2cd577df3">SR_ERR_OK</a> on success), even on error <code>tree</code> is freed and context released. </dd></dl>

</div>
</div>
<a id="ga064c0e3a4f251945d8dc97690df6cdad" name="ga064c0e3a4f251945d8dc97690df6cdad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga064c0e3a4f251945d8dc97690df6cdad">&#9670;&#160;</a></span>sr_free_val()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sr_free_val </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#structsr__val__t">sr_val_t</a> *</td>          <td class="paramname"><span class="paramname"><em>value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free <a class="el" href="sysrepo__types_8h.html#structsr__val__t" title="Structure that contains value of an data element stored in the sysrepo datastore.">sr_val_t</a> structure and all memory allocated within it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Value to be freed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1f4f8226076611a1247826aff74ffc32" name="ga1f4f8226076611a1247826aff74ffc32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f4f8226076611a1247826aff74ffc32">&#9670;&#160;</a></span>sr_free_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sr_free_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#structsr__val__t">sr_val_t</a> *</td>          <td class="paramname"><span class="paramname"><em>values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free array of <a class="el" href="sysrepo__types_8h.html#structsr__val__t" title="Structure that contains value of an data element stored in the sysrepo datastore.">sr_val_t</a> structures (and all memory allocated within of each array element). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">values</td><td>Array of values to be freed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>Number of elements stored in the array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga14044ee269965d6d8f0bb4631351d7cb" name="ga14044ee269965d6d8f0bb4631351d7cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14044ee269965d6d8f0bb4631351d7cb">&#9670;&#160;</a></span>sr_get_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_get_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *</td>          <td class="paramname"><span class="paramname"><em>session</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>xpath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>max_depth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sysrepo__types_8h.html#aa982434f82ff953fceb52bac779d032d">sr_get_options_t</a></td>          <td class="paramname"><span class="paramname"><em>opts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#structsr__data__t">sr_data_t</a> **</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a tree whose root nodes match the provided XPath. Data are represented as <em>libyang</em> subtrees. </p>
<p>Top-level trees are always returned so if an inner node is selected, all of its descendants and its direct parents (lists also with keys) are returned.</p>
<p>If the subtree selection process results in too many node overlaps, the cost of the operation may be unnecessarily big. As an example, a common XPath expression <code>//.</code> is normally used to select all nodes in a data tree, but for this operation it would result in an excessive duplication of data nodes. Since all the descendants of each matched node are returned implicitly, <code>//</code> in the XPath should never be used (i.e. <code>/*</code> is the correct XPath for all the nodes).</p>
<p>Required READ access, but if the access check fails, the module data are simply ignored without an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>Session (<a class="el" href="sysrepo__types_8h.html#ad62b76ff858c1a2af6af2098153597e6">DS</a>-specific) to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xpath</td><td><a class="el" href="index.html#paths">XPath</a> selecting root nodes of subtrees to be retrieved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_depth</td><td>Maximum depth of the selected subtrees. 0 is unlimited, 1 will not return any descendant nodes. If a list should be returned, its keys are always returned as well. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Operational callback timeout in milliseconds. If 0, default is used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opts</td><td>Options overriding default get behaviour. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>SR data with connected top-level data trees of all the requested data. NULL if none found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (<a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a9349114b18324f7d763650d2cd577df3">SR_ERR_OK</a> on success, <a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a30eb28ebd33593f0ade9f3fdf2a0f9b4">SR_ERR_NOT_FOUND</a> if xpath is invalid - no nodes will ever match it). </dd></dl>

</div>
</div>
<a id="ga7a2519c56957ea82729509651daa67b7" name="ga7a2519c56957ea82729509651daa67b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a2519c56957ea82729509651daa67b7">&#9670;&#160;</a></span>sr_get_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_get_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *</td>          <td class="paramname"><span class="paramname"><em>session</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#structsr__val__t">sr_val_t</a> **</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a single data element selected by the provided path. Data are represented as <a class="el" href="sysrepo__types_8h.html#structsr__val__t" title="Structure that contains value of an data element stored in the sysrepo datastore.">sr_val_t</a> structures. </p>
<p>If the path identifies an empty leaf, a list or a container, the value has no data filled in and its type is set properly (<a class="el" href="sysrepo__types_8h.html#a7945253b0c5be3259c7f6cc5f6431d25a0fbdb557a9aad87aeb4dc442359389c2">SR_LEAF_EMPTY_T</a> / <a class="el" href="sysrepo__types_8h.html#a7945253b0c5be3259c7f6cc5f6431d25ab6088d14983f9f17b18385ddbb441e44">SR_LIST_T</a> / <a class="el" href="sysrepo__types_8h.html#a7945253b0c5be3259c7f6cc5f6431d25a22b6a2ffaba9f03996bcf3093c346140">SR_CONTAINER_T</a> / <a class="el" href="sysrepo__types_8h.html#a7945253b0c5be3259c7f6cc5f6431d25aa555b0b42fed2753ee6395b61c11b529">SR_CONTAINER_PRESENCE_T</a>).</p>
<p>Required READ access, but if the access check fails, the module data are simply ignored without an error.</p>
<dl class="section see"><dt>See also</dt><dd>Use <a class="el" href="#ga0ce03da13483cf30b4f7021f88b26ebd" title="Retrieve an array of data elements selected by the provided XPath. Data are represented as sr_val_t s...">sr_get_items</a> for retrieving larger chunks of data from the datastore. Since it retrieves the data from datastore in larger chunks, it can work much more efficiently than multiple <a class="el" href="#ga7a2519c56957ea82729509651daa67b7" title="Retrieve a single data element selected by the provided path. Data are represented as sr_val_t struct...">sr_get_item</a> calls.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>Session (<a class="el" href="sysrepo__types_8h.html#ad62b76ff858c1a2af6af2098153597e6">DS</a>-specific) to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td><a class="el" href="index.html#paths">Path</a> of the data element to be retrieved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Operational callback timeout in milliseconds. If 0, default is used. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>Requested node, allocated dynamically (free using <a class="el" href="#ga064c0e3a4f251945d8dc97690df6cdad" title="Free sr_val_t structure and all memory allocated within it.">sr_free_val</a>). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (<a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a9349114b18324f7d763650d2cd577df3">SR_ERR_OK</a> on success, <a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30aaa85f6a26aba4cacb8dfc0db2444f9ed">SR_ERR_INVAL_ARG</a> if multiple nodes match the path, <a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a30eb28ebd33593f0ade9f3fdf2a0f9b4">SR_ERR_NOT_FOUND</a> if no nodes match the path). </dd></dl>

</div>
</div>
<a id="ga0ce03da13483cf30b4f7021f88b26ebd" name="ga0ce03da13483cf30b4f7021f88b26ebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ce03da13483cf30b4f7021f88b26ebd">&#9670;&#160;</a></span>sr_get_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_get_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *</td>          <td class="paramname"><span class="paramname"><em>session</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>xpath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sysrepo__types_8h.html#aa982434f82ff953fceb52bac779d032d">sr_get_options_t</a></td>          <td class="paramname"><span class="paramname"><em>opts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#structsr__val__t">sr_val_t</a> **</td>          <td class="paramname"><span class="paramname"><em>values</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>value_cnt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve an array of data elements selected by the provided XPath. Data are represented as <a class="el" href="sysrepo__types_8h.html#structsr__val__t" title="Structure that contains value of an data element stored in the sysrepo datastore.">sr_val_t</a> structures. </p>
<p>All data elements are transferred within one message from the datastore, which is more efficient that calling multiple <a class="el" href="#ga7a2519c56957ea82729509651daa67b7" title="Retrieve a single data element selected by the provided path. Data are represented as sr_val_t struct...">sr_get_item</a> calls.</p>
<p>Required READ access, but if the access check fails, the module data are simply ignored without an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>Session (<a class="el" href="sysrepo__types_8h.html#ad62b76ff858c1a2af6af2098153597e6">DS</a>-specific) to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xpath</td><td><a class="el" href="index.html#paths">XPath</a> of the data elements to be retrieved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Operational callback timeout in milliseconds. If 0, default is used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opts</td><td>Options overriding default get behaviour. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">values</td><td>Array of requested nodes, if any, allocated dynamically (free using <a class="el" href="#ga1f4f8226076611a1247826aff74ffc32" title="Free array of sr_val_t structures (and all memory allocated within of each array element).">sr_free_values</a>). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value_cnt</td><td>Number of returned elements in the values array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (<a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a9349114b18324f7d763650d2cd577df3">SR_ERR_OK</a> on success). </dd></dl>

</div>
</div>
<a id="gae533508954b1e660e3711da470c1e78a" name="gae533508954b1e660e3711da470c1e78a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae533508954b1e660e3711da470c1e78a">&#9670;&#160;</a></span>sr_get_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_get_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *</td>          <td class="paramname"><span class="paramname"><em>session</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#structsr__data__t">sr_data_t</a> **</td>          <td class="paramname"><span class="paramname"><em>node</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a single value matching the provided XPath. Data are represented as a single <em>libyang</em> node. </p>
<p>Compared to <a class="el" href="#ga14044ee269965d6d8f0bb4631351d7cb" title="Retrieve a tree whose root nodes match the provided XPath. Data are represented as libyang subtrees.">sr_get_data()</a> or <a class="el" href="#ga88900c0e398e1dba45c0b082f944b732" title="Retrieve a single subtree whose root node is selected by the provided path. Data are represented as l...">sr_get_subtree()</a> this function is a bit more efficient because it returns only the selected node which is <em>disconnected</em> from its parents.</p>
<p>Required READ access, but if the access check fails, the module data are simply ignored without an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>Session (<a class="el" href="sysrepo__types_8h.html#ad62b76ff858c1a2af6af2098153597e6">DS</a>-specific) to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td><a class="el" href="index.html#paths">Path</a> of the data element to be retrieved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Operational callback timeout in milliseconds. If 0, default is used. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">node</td><td>SR data with the found node. NULL if none found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (<a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a9349114b18324f7d763650d2cd577df3">SR_ERR_OK</a> on success, <a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30aaa85f6a26aba4cacb8dfc0db2444f9ed">SR_ERR_INVAL_ARG</a> if multiple nodes match the path, <a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a30eb28ebd33593f0ade9f3fdf2a0f9b4">SR_ERR_NOT_FOUND</a> if no nodes match the path). </dd></dl>

</div>
</div>
<a id="ga88900c0e398e1dba45c0b082f944b732" name="ga88900c0e398e1dba45c0b082f944b732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88900c0e398e1dba45c0b082f944b732">&#9670;&#160;</a></span>sr_get_subtree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_get_subtree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *</td>          <td class="paramname"><span class="paramname"><em>session</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#structsr__data__t">sr_data_t</a> **</td>          <td class="paramname"><span class="paramname"><em>subtree</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a single subtree whose root node is selected by the provided path. Data are represented as <em>libyang</em> subtrees. </p>
<p>The functions returns values and all associated information stored under the root node and all its descendants. While the same data can be obtained using <a class="el" href="#ga0ce03da13483cf30b4f7021f88b26ebd" title="Retrieve an array of data elements selected by the provided XPath. Data are represented as sr_val_t s...">sr_get_items</a> in combination with the expressive power of XPath addressing, the recursive nature of the output data type also preserves the hierarchical relationships between data elements.</p>
<p>Required READ access, but if the access check fails, the module data are simply ignored without an error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>Session (<a class="el" href="sysrepo__types_8h.html#ad62b76ff858c1a2af6af2098153597e6">DS</a>-specific) to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td><a class="el" href="index.html#paths">Path</a> selecting the root node of the subtree to be retrieved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Operational callback timeout in milliseconds. If 0, default is used. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">subtree</td><td>SR data with the requested subtree. NULL if none found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (<a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a9349114b18324f7d763650d2cd577df3">SR_ERR_OK</a> on success, <a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30aaa85f6a26aba4cacb8dfc0db2444f9ed">SR_ERR_INVAL_ARG</a> if multiple nodes match the path, <a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a30eb28ebd33593f0ade9f3fdf2a0f9b4">SR_ERR_NOT_FOUND</a> if path is invalid - no nodes will ever match it). </dd></dl>

</div>
</div>
<a id="gaac34ea70f43cdc6acae6ae6149ba2304" name="gaac34ea70f43cdc6acae6ae6149ba2304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac34ea70f43cdc6acae6ae6149ba2304">&#9670;&#160;</a></span>sr_release_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sr_release_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#structsr__data__t">sr_data_t</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release SR data structure, whoch consists of freeing the data tree, releasing the context, and freeing the structure itself. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>SR data to release and free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga84cc1900b34d225d4c537728c597c66e" name="ga84cc1900b34d225d4c537728c597c66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84cc1900b34d225d4c537728c597c66e">&#9670;&#160;</a></span>sr_session_acquire_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sr_session_acquire_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sysrepo__types_8h.html#a0de3599f66e9100f930f60a0ab00c60c">sr_session_ctx_t</a> *</td>          <td class="paramname"><span class="paramname"><em>session</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct lyd_node *</td>          <td class="paramname"><span class="paramname"><em>tree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#structsr__data__t">sr_data_t</a> **</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquire libyang data tree together with its context lock in a SR data structure. </p>
<p>Before a libyang data tree used in sysrepo can be created, <a class="el" href="group__conn__sess__api.html#gaab97c23d469346a51b2c367cebec641e" title="Get the libyang context used by a connection. Can be used in an application for working with data and...">sr_acquire_context()</a> must be called to get the connection context. If the created libyang data tree is then passed to this function, it will handle the full cleanup of releasing the context and freeing the data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>Session (not <a class="el" href="sysrepo__types_8h.html#ad62b76ff858c1a2af6af2098153597e6">DS</a>-specific) to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>libyang data tree, ownership is passed to <code>data</code> in all cases. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Created SR data, free with <a class="el" href="#gaac34ea70f43cdc6acae6ae6149ba2304" title="Release SR data structure, whoch consists of freeing the data tree, releasing the context,...">sr_release_data()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code (<a class="el" href="group__log__api.html#gga3541b16be4e12bd061b7e24d4be29c30a9349114b18324f7d763650d2cd577df3">SR_ERR_OK</a> on success), even on error <code>tree</code> is freed and context released. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jan 28 2025 10:56:44 for sysrepo by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
